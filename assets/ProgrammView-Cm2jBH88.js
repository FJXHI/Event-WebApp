import{u as F}from"./useEventData-ClRHmvfU.js";import{_,r as c,b as $,c as a,a as t,F as f,g as v,u as A,o as r,h as g,t as b,i as V,d as B,j as D,e as I,f as P}from"./index-Cq_eR3Pg.js";import{P as S}from"./ProgrammList-CNnR8dGE.js";import"./config-CryjaMuD.js";import"./FavBtn-B6cHPxY-.js";import"./IconHeart-C63uFql0.js";const E={class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},N={class:"bg-white rounded-lg w-96 shadow-lg"},j={class:"p-4 border-b flex justify-between items-center"},z={class:"p-4"},L={class:"mb-4"},M={class:"flex gap-2 flex-wrap"},T=["onClick"],K={class:"flex gap-2 flex-wrap"},q=["onClick"],G={__name:"FilterMenu",emits:["apply"],setup(x,{emit:i}){const{stages:d,acts:u}=F(),p=i,l=c([]),n=c([]),m=$(()=>{if(!Array.isArray(u.value))return[];const s=new Set;return u.value.forEach(e=>{Array.isArray(e.tags)&&e.tags.forEach(o=>{o.visible&&s.add(o.name)})}),Array.from(s)}),y=s=>{l.value.includes(s)?l.value=l.value.filter(e=>e!==s):l.value.push(s)},k=s=>{n.value.includes(s.id)?n.value=n.value.filter(e=>e!==s.id):n.value.push(s.id)},h=()=>{l.value=[],n.value=[]},w=()=>{const s={categories:l.value,stages:n.value};p("apply",s)};return(s,e)=>(r(),a("div",E,[t("div",N,[t("div",j,[e[1]||(e[1]=t("h2",{class:"text-lg font-semibold"},"Filter",-1)),t("button",{onClick:e[0]||(e[0]=o=>s.$emit("close")),class:"text-gray-500 hover:text-black"},"×")]),t("div",z,[t("button",{onClick:h,class:"text-blue-500 flex items-center mb-4"}," ↻ Filter zurücksetzen "),t("div",L,[e[2]||(e[2]=t("h3",{class:"font-semibold mb-2"},"Kategorien",-1)),t("div",M,[(r(!0),a(f,null,v(m.value,o=>(r(),a("button",{key:o,onClick:C=>y(o),class:g(["px-3 py-1 rounded-full border",l.value.includes(o)?"bg-blue-500 text-white":"bg-gray-100"])},b(o),11,T))),128))])]),t("div",null,[e[4]||(e[4]=t("h3",{class:"font-semibold mb-2"},"Bühnen",-1)),t("div",K,[(r(!0),a(f,null,v(A(d),o=>(r(),a("button",{key:o.id,onClick:C=>k(o),class:g(["px-3 py-1 rounded-full border flex items-center",n.value.includes(o.id)?"bg-green-500 text-white":"bg-gray-100"])},[e[3]||(e[3]=t("span",{class:"mr-1"},"📍",-1)),V(" "+b(o.name),1)],10,q))),128))])])]),t("div",{class:"p-4 border-t"},[t("button",{onClick:w,class:"w-full bg-green-500 text-white py-2 rounded-lg"},"Filter anwenden")])])]))}},H=_(G,[["__scopeId","data-v-88eeac3d"]]),J=B({__name:"ProgrammView",setup(x){const i=c(!1),d=c("all"),u=c([]),p=l=>{console.log(l),d.value=l.categories.length>0?"tags":"all",u.value=l.categories.length>0?l.categories:[]};return(l,n)=>(r(),a("div",null,[i.value?(r(),D(H,{key:0,onApply:p,onClose:n[0]||(n[0]=m=>i.value=!1)})):I("",!0),t("button",{onClick:n[1]||(n[1]=m=>i.value=!0),class:"bg-blue-500 text-white px-4 py-2 rounded"}," Filter öffnen "),P(S,{filter:d.value,filterID:u.value,class:"ProgrammList"},null,8,["filter","filterID"])]))}}),Y=_(J,[["__scopeId","data-v-4d219514"]]);export{Y as default};
