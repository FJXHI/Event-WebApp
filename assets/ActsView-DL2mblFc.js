import{d as w,c as m,p as D,r as L,a,z as A,A as B,g as u,F as k,q as I,t as h,E as C,b as v,w as $,H as F,o as e,u as T}from"./index-BncnZqK-.js";import{u as S}from"./useEventData-B_ftZRsM.js";import{F as q}from"./FavBtn-AHRRTJJ-.js";import{T as E}from"./tagLabel-Ch0_D21v.js";import{S as N}from"./SearchBar-CAsDrQZk.js";const V={class:"act-list"},x={key:0,class:"list-item-ul"},O={class:"list-item-info pad"},j={class:"list-item-name"},z={class:"list-item-tags"},H={key:1},J=w({__name:"ActList",props:{filterID:{}},setup(g){const d=D(),p=m(()=>d.query.search??"false"),n=L(""),_=t=>{n.value=t.toLowerCase().trim()},{acts:o}=S(),r=g,y=m(()=>{if(!o.value||o.value.length===0)return[];let t=o.value;return r.filterID&&r.filterID.length>0&&(t=t.filter(l=>r.filterID.includes(l.id))),n.value&&(t=t.filter(l=>{var c,i;const f=((c=l.name)==null?void 0:c.toLowerCase())||"",s=((i=l.description)==null?void 0:i.toLowerCase())||"";return f.includes(n.value)||s.includes(n.value)})),t});return(t,l)=>{const f=F("router-link");return e(),a("div",V,[A(u(N,{onApply:_},null,512),[[B,p.value==="true"]]),y.value.length>0?(e(),a("ul",x,[(e(!0),a(k,null,I(y.value,s=>{var c;return e(),a("li",{key:s.id,class:"list-item-obj"},[u(f,{to:"/act/"+((c=s["id-name"])!=null&&c.trim()?s["id-name"]:s.id),class:"list-item-link"},{default:C(()=>[v("div",O,[v("strong",j,h(s.name),1),v("span",z,[(e(!0),a(k,null,I(s.tags.filter(i=>i.visible),(i,b)=>(e(),$(E,{key:b,name:i.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])]),_:2},1032,["to"]),u(q,{itemId:String(s.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])])}),128))])):(e(),a("p",H,h(t.$t("no-acts")),1))])}}}),Q={class:"list-view"},R={key:0},G={key:1},X=w({__name:"ActsView",setup(g){const{acts:d}=S(),p=D(),n=m(()=>p.query.fav==="true"),_=m(()=>{const o=localStorage.getItem("act");return o?JSON.parse(o).map(r=>parseInt(r)):[]});return(o,r)=>(e(),a("div",Q,[T(d).length>0?(e(),a("div",R,[u(J,{filterID:n.value?_.value:void 0},null,8,["filterID"])])):(e(),a("p",G,h(o.$t("no-acts")),1))]))}});export{X as default};
