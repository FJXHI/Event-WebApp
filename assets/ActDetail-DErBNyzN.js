import{_ as y,r as I,D as S,a as i,o as l,b as a,A as v,e as p,d as $,c as L,l as D,u as g,t as u,F as _,m as h,s as k}from"./index-ByZbFJ75.js";import{b,e as B}from"./config-CFcYo9TX.js";import{u as C}from"./useEventData-BXc6N1on.js";import{S as E}from"./ScheduleListItem-CJwIIx7D.js";import{O as F}from"./OvalLink-DidSSNh4.js";import{F as N}from"./FavBtn-BAbLzbI5.js";import{T}from"./tagLabel-CuO8aFNs.js";const x=["href"],A={key:0,class:"fallback-name"},M=["innerHTML"],V={__name:"SocialMediaLink",props:{name:String,url:String},setup(d){const f=d,o=I("");async function m(c){if(o.value="",!c){console.warn("No Name provided, use fallback.");return}const t=`${b}icons/link/${c.toLowerCase()}.svg`;try{const n=await fetch(t);if(!n.ok){console.warn(`Icon not found: ${t}, use name instead.`);return}let e=await n.text();if(!e.includes("<svg")){console.warn(`Invalid Icon: ${t}, use name instead.`);return}e=e.replace(/fill="[^"]*"/g,'fill="currentColor"'),e=e.replace(/(width|height)="\d+[^"]*"/g,""),e=e.replace("<svg",'<svg class="resizable-svg"'),o.value=e}catch(n){console.error(`Error loading Icons: ${n}`)}}return S(()=>{m(f.name)}),(c,t)=>(l(),i("li",null,[a("a",{href:d.url,target:"_blank",rel:"noopener noreferrer"},[o.value?v("",!0):(l(),i("div",A,[p(F,{name:d.name},null,8,["name"])])),o.value?(l(),i("div",{key:1,class:"social-media-icon",innerHTML:o.value},null,8,M)):v("",!0)],8,x)]))}},H=y(V,[["__scopeId","data-v-4734ac5c"]]),O={key:0,class:"detail-view"},z={class:"detail-header"},R=["src"],U={class:"detail-title"},W={key:0},j={class:"detail-content"},q={class:"detail-content-text"},G={class:"detail-social-media"},J={key:1},te=$({__name:"ActDetail",setup(d){const f=D(),{acts:o,performances:m,stages:c}=C(),t=L(()=>{if(!o.value||!m.value||!c.value)return null;const n=f.params.id,e=o.value.find(r=>r["id-name"]===n||r.id.toString()===n);return e?{...e,performances:m.value.filter(r=>r.actsIDArr.includes(e.id)).map(r=>({...r,stage:c.value.find(s=>s.id===r.stageID)||null}))}:null});return(n,e)=>{var r;return t.value?(l(),i("div",O,[e[2]||(e[2]=a("div",{class:"detail-space"},null,-1)),a("div",z,[(r=t.value.image)!=null&&r.trim()?(l(),i("img",{key:0,src:t.value.image.startsWith("http")?t.value.image:g(b)+t.value.image,class:"act-detail-view-img",onError:e[0]||(e[0]=s=>s.target.remove())},null,40,R)):v("",!0),p(N,{itemId:String(t.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",U,[a("h3",null,u(t.value.name),1),t.value.subname?(l(),i("h4",W,u(t.value.subname),1)):v("",!0)])]),a("div",j,[a("div",q,[a("p",null,u(t.value.description),1),a("p",null,[(l(!0),i(_,null,h(t.value.tags.filter(s=>s.visible),(s,w)=>(l(),k(T,{key:w,name:s.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",G,[(l(!0),i(_,null,h(t.value.weblinks,s=>(l(),k(H,{key:s.url,name:s.name,url:s.url},null,8,["name","url"]))),128))])]),e[1]||(e[1]=a("div",{class:"detail-line"},null,-1)),p(E,{filters:{...g(B),actIDs:[String(t.value.id)]}},null,8,["filters"])])])):(l(),i("div",J,[a("p",null,u(n.$t("act"))+" "+u(n.$t("not-found")),1)]))}}});export{te as default};
