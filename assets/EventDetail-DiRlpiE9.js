import{d as L,c as g,q as N,a as n,u as v,b as t,t as i,g as _,f as p,F as u,J as f,C as h,z as k,D as C,H as E,w as q,o as s,i as F,_ as V}from"./index-CDy3prOz.js";import{u as $}from"./useEventData-CLxb0tKv.js";import{O as x}from"./OvalLink-mAN38dRx.js";import{F as y,T as A}from"./TagLabel-DGAF4IsA.js";const S={key:0},U={key:1,class:"event-detail-view detail-view scroll-head full-height"},M={class:"scroll-y-area"},O={class:"detail-header"},j={class:"event-detail-time"},z={class:"detail-title"},G={key:0},H={class:"detail-content"},J={class:"list-item-info pad"},K={class:"list-item-name"},P={class:"detail-content-text"},R={key:0},Q=["href"],W={key:2},X=L({__name:"EventDetail",setup(Y){const b=N(),{performances:w,stages:T,acts:B,isLoading:D}=$(),e=g(()=>{const r=b.params.id,l=w.value.find(d=>d.id===Number(r)||d["id-name"]===r);if(!l)return null;const o=(l.actsIDArr??[]).map(d=>B.value.find(a=>a.id===d)).filter(Boolean),c=T.value.find(d=>d.id===l.stageID)||{id:0,name:"Unknown","id-name":""};return{...l,acts:o,stage:c}}),I=g(()=>{if(!e.value)return[];const r=e.value.acts.flatMap(o=>o.tags||[]).filter(o=>o.visible),l=new Map;return r.forEach(o=>{l.has(o.name)||l.set(o.name,o)}),Array.from(l.values())});return(r,l)=>{var c,d;const o=E("router-link");return v(D)?(s(),n("div",S,[t("p",null,i(r.$t("loading")),1)])):e.value?(s(),n("div",U,[t("div",M,[l[0]||(l[0]=t("div",{class:"detail-space"},null,-1)),t("div",O,[t("div",j,[t("h4",null,i(v(p)(e.value.start_time,"Time"))+" – "+i(v(p)(e.value.end_time,"Time"))+", "+i(v(p)(e.value.start_time,"Date Long")),1)]),_(y,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),t("div",z,[t("h3",null,[e.value.name?(s(),n(u,{key:0},[f(i(e.value.name),1)],64)):e.value.acts.length?(s(!0),n(u,{key:1},h(e.value.acts,(a,m)=>(s(),n("span",{key:a.id},[f(i(a.name),1),m<e.value.acts.length-1?(s(),n("span",G,", ")):k("",!0)]))),128)):(s(),n(u,{key:2},[f(i(r.$t("Unknown")),1)],64))])]),_(x,{link:"/location/"+((c=e.value.stage["id-name"])!=null&&c.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:F,name:e.value.stage.name},null,8,["link","name"])]),t("div",H,[(s(!0),n(u,null,h(e.value.acts,(a,m)=>(s(),n("div",{key:a.id,class:"list-item-obj"},[_(o,{to:"/act/"+(a["id-name"]&&a["id-name"].trim()!==""?a["id-name"]:a.id),class:"list-item-link"},{default:C(()=>[t("div",J,[t("strong",K,i(a.name),1)])]),_:2},1032,["to"]),_(y,{itemId:String(a.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),t("div",P,[t("p",null,i(e.value.description||"Keine Beschreibung verfügbar"),1),(d=e.value)!=null&&d.url?(s(),n("p",R,[t("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},i(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,Q)])):k("",!0),(s(!0),n(u,null,h(I.value,(a,m)=>(s(),q(A,{key:"unique-act-tag-"+m,name:a.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])])])):(s(),n("div",W,[t("p",null,i(r.$t("event"))+" "+i(r.$t("not-found")),1)]))}}}),se=V(X,[["__scopeId","data-v-ebe4618e"]]);export{se as default};
