import{d as E,c as y,q as C,a as i,u as d,b as t,t as l,z as f,g as m,e as N,f as g,F as c,L as h,E as k,G as q,K as F,w as U,o as s,i as V,_ as $}from"./index-BR-yqsSR.js";import{u as x}from"./useEventData-CQLj69iX.js";import{O as A}from"./OvalLink-_2zTDfDs.js";import{F as b,T as S}from"./TagLabel-qznEqKvQ.js";import{C as G}from"./Countdown-c3bIv6v-.js";const K={key:0},M={key:1,class:"event-detail-view detail-view scroll-head full-height"},O={class:"scroll-y-area"},j={class:"detail-header"},z=["src"],P={class:"event-detail-time"},R={class:"detail-title"},W={key:0},H={class:"detail-content"},J={class:"list-item-info pad"},Q={class:"list-item-name"},X={class:"detail-content-text"},Y={key:0},Z=["href"],ee={key:2},te=E({__name:"EventDetail",setup(ae){const w=C(),{performances:T,stages:B,acts:I,isLoading:D}=x(),e=y(()=>{const r=w.params.id,n=T.value.find(u=>u.id===Number(r)||u["id-name"]===r);if(!n)return null;const o=(n.actsIDArr??[]).map(u=>I.value.find(_=>_.id===u)).filter(Boolean),v=B.value.find(u=>u.id===n.stageID)||{id:0,name:"Unknown","id-name":""};return{...n,acts:o,stage:v}}),L=y(()=>{if(!e.value)return[];const r=e.value.acts.flatMap(o=>o.tags||[]).filter(o=>o.visible),n=new Map;return r.forEach(o=>{n.has(o.name)||n.set(o.name,o)}),Array.from(n.values())});return(r,n)=>{var v,u,_;const o=F("router-link");return d(D)?(s(),i("div",K,[t("p",null,l(r.$t("loading")),1)])):e.value?(s(),i("div",M,[t("div",O,[n[1]||(n[1]=t("div",{class:"detail-space"},null,-1)),t("div",j,[(v=e.value.image)!=null&&v.trim()?(s(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:d(N)+e.value.image,class:"act-detail-view-img",onError:n[0]||(n[0]=a=>a.target.remove())},null,40,z)):f("",!0),t("div",P,[t("h4",null,l(d(g)(e.value.start_time,"Time"))+" – "+l(d(g)(e.value.end_time,"Time"))+", "+l(d(g)(e.value.start_time,"Date Long")),1)]),m(b,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),t("div",R,[t("h3",null,[e.value.name?(s(),i(c,{key:0},[h(l(e.value.name),1)],64)):e.value.acts.length?(s(!0),i(c,{key:1},k(e.value.acts,(a,p)=>(s(),i("span",{key:a.id},[h(l(a.name),1),p<e.value.acts.length-1?(s(),i("span",W,", ")):f("",!0)]))),128)):(s(),i(c,{key:2},[h(l(r.$t("Unknown")),1)],64))])]),m(A,{link:"/location/"+((u=e.value.stage["id-name"])!=null&&u.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:V,name:e.value.stage.name},null,8,["link","name"]),m(G,{time:e.value.start_time},null,8,["time"])]),t("div",H,[(s(!0),i(c,null,k(e.value.acts,(a,p)=>(s(),i("div",{key:a.id,class:"list-item-obj"},[m(o,{to:"/act/"+(a["id-name"]&&a["id-name"].trim()!==""?a["id-name"]:a.id),class:"list-item-link"},{default:q(()=>[t("div",J,[t("strong",Q,l(a.name),1)])]),_:2},1032,["to"]),m(b,{itemId:String(a.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),t("div",X,[t("p",null,l(e.value.description||"Keine Beschreibung verfügbar"),1),(_=e.value)!=null&&_.url?(s(),i("p",Y,[t("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},l(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,Z)])):f("",!0),(s(!0),i(c,null,k(L.value,(a,p)=>(s(),U(S,{key:"unique-act-tag-"+p,name:a.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])])])):(s(),i("div",ee,[t("p",null,l(r.$t("event"))+" "+l(r.$t("not-found")),1)]))}}}),re=$(te,[["__scopeId","data-v-478ce613"]]);export{re as default};
