import{d as k,b,j as y,c as l,a,e as u,f,u as D,t as i,F as p,g,k as I,o as r}from"./index-qaY-1e2Q.js";import{b as B}from"./config-CryjaMuD.js";import{u as w}from"./useEventData-BH0ltqqa.js";import{P as F}from"./ProgrammList-Bd5W6IUH.js";import{F as N}from"./FavBtn-BYIfDBwy.js";import"./IconHeart-CAhgWLAT.js";const S={key:0,class:"detail-view"},V={class:"detail-header"},A=["src"],E={class:"detail-title"},$={key:0},C={class:"detail-content"},L={class:"detail-content-text"},P={key:0},T=["href"],j={key:1},J=k({__name:"ActDetail",setup(R){const _=y(),{acts:d,performances:c,stages:m}=w(),e=b(()=>{if(!d.value||!c.value||!m.value)return null;const o=_.params.id,n=d.value.find(s=>s["id-name"]===o||s.id.toString()===o);return n?{...n,performances:c.value.filter(s=>s.actsIDArr.includes(n.id)).map(s=>({...s,stage:m.value.find(t=>t.id===s.stageID)||null}))}:null});return(o,n)=>{var s;return e.value?(r(),l("div",S,[n[1]||(n[1]=a("div",{class:"detail-space"},null,-1)),a("div",V,[(s=e.value.image)!=null&&s.trim()?(r(),l("img",{key:0,src:D(B)+"images/"+e.value.image,class:"act-detail-view-img",onError:n[0]||(n[0]=t=>t.target.remove())},null,40,A)):u("",!0),f(N,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",E,[a("h3",null,i(e.value.name),1),e.value.subname?(r(),l("h4",$,i(e.value.subname),1)):u("",!0)])]),a("div",C,[a("div",L,[a("p",null,i(e.value.description),1),a("p",null,[a("strong",null,i(o.$t("genre"))+": ",1),(r(!0),l(p,null,g(e.value.tags.filter(t=>t.visible),(t,v)=>(r(),l("span",{key:v},[I(i(t.name),1),v<e.value.tags.filter(h=>h.visible).length-1?(r(),l("span",P,", ")):u("",!0)]))),128))]),(r(!0),l(p,null,g(e.value.weblinks,t=>(r(),l("li",{key:t.url},[a("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},i(t.name),9,T)]))),128))]),f(F,{filter:"act",filterID:[String(e.value.id)]},null,8,["filterID"])])])):(r(),l("div",j,[a("p",null,i(o.$t("act"))+" "+i(o.$t("not-found")),1)]))}}});export{J as default};
