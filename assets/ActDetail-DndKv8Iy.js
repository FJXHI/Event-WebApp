import{d as D,c as _,q as I,M as w,a as i,b as a,z as h,g as m,u as k,e as B,t as u,F as d,D as c,v as F,w as v,o as n}from"./index-D5AZeFwu.js";import{u as C}from"./useEventData-7trDKFMQ.js";import{S as L}from"./ScheduleListItem-6SN4-1qx.js";import{S as N}from"./SocialMediaLink--d3jKnqo.js";import{F as x,T as y}from"./TagLabel-B53FOJGr.js";import{C as A}from"./Countdown-i-NBnm7z.js";import"./NoEntries-DHfuMqtX.js";import"./OvalLink-WL4kcq3y.js";const E={key:0,class:"full-height detail-view"},T={class:"detail-header"},V=["src"],M={class:"detail-title"},P={key:0},$={class:"detail-content full-height"},q={class:"detail-content-text"},z={class:"detail-social-media"},R={key:1},X=D({__name:"ActDetail",setup(U){const b=I(),{acts:p,performances:f,stages:g}=C(),e=_(()=>{if(!p.value||!f.value||!g.value)return null;const r=b.params.id,l=p.value.find(s=>s["id-name"]===r||s.id.toString()===r);return l?{...l,performances:f.value.filter(s=>s.actsIDArr.includes(l.id)).map(s=>({...s,stage:g.value.find(t=>t.id===s.stageID)||null}))}:null}),S=_(()=>e.value?w(e.value.performances):null);return(r,l)=>{var s;return e.value?(n(),i("div",E,[l[2]||(l[2]=a("div",{class:"detail-space"},null,-1)),a("div",T,[(s=e.value.image)!=null&&s.trim()?(n(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:k(B)+e.value.image,class:"act-detail-view-img",onError:l[0]||(l[0]=t=>t.target.remove())},null,40,V)):h("",!0),m(x,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",M,[a("h3",null,u(e.value.name),1),e.value.subname?(n(),i("h4",P,u(e.value.subname),1)):h("",!0),m(A,{time:S.value.start_time},null,8,["time"])])]),a("div",$,[a("div",q,[a("p",null,u(e.value.description),1),a("p",null,[(n(!0),i(d,null,c(e.value.tags.filter(t=>t.visible),(t,o)=>(n(),v(y,{key:o,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(n(!0),i(d,null,c(e.value["act-type"],(t,o)=>(n(),v(y,{key:o,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",z,[(n(!0),i(d,null,c(e.value.weblinks,t=>(n(),v(N,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),l[1]||(l[1]=a("div",{class:"detail-line"},null,-1)),m(L,{filters:{...k(F),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(n(),i("div",R,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{X as default};
