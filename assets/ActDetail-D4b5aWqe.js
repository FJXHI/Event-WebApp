import{_ as b,r as I,w as S,c as l,o as n,a as s,f as p,d as $,b as w,j as E,e as f,u as D,t as c,F as g,g as h,k as B,i as L}from"./index-BjblGMKW.js";import{b as k,u as N}from"./useEventData-Cu_HqS4d.js";import{S as A}from"./ScheduleList-pYjKZe4i.js";import{O as F}from"./OvalLink-BobKM1gJ.js";import{F as V}from"./FavBtn-BQx2j5cm.js";import"./IconHeart-CAMf6p9Z.js";const C=["href"],x=["src"],M={key:1},O={__name:"SocialMediaLink",props:{name:String,url:String},setup(u){const v=u,i=I("");async function d(e){if(!e)return console.error("Error no name provided, abort"),"";const o=e.toLowerCase(),t=`${k}icons/link/${o}.svg`;try{return(await fetch(t,{method:"HEAD"})).ok?t:""}catch(a){return console.error("Error loading the icon:",a),""}}function m(){const e=i.value.split("/").pop();console.log(`❌ error loading image: ${e}, use name instead.`),i.value=""}return S(async()=>{i.value=await d(v.name)}),(e,o)=>(n(),l("li",null,[s("a",{href:u.url,target:"_blank",rel:"noopener noreferrer"},[i.value?(n(),l("img",{key:0,src:i.value,alt:"icon",class:"social-media-icon",onError:m},null,40,x)):(n(),l("div",M,[p(F,{name:u.name},null,8,["name"])]))],8,C)]))}},P=b(O,[["__scopeId","data-v-6059dd73"]]),T={key:0,class:"detail-view"},j={class:"detail-header"},z=["src"],H={class:"detail-title"},R={key:0},U={class:"detail-content"},q={class:"detail-content-text"},G={key:0},J={class:"detail-social-media"},K={key:1},te=$({__name:"ActDetail",setup(u){const v=E(),{acts:i,performances:d,stages:m}=N(),e=w(()=>{if(!i.value||!d.value||!m.value)return null;const o=v.params.id,t=i.value.find(a=>a["id-name"]===o||a.id.toString()===o);return t?{...t,performances:d.value.filter(a=>a.actsIDArr.includes(t.id)).map(a=>({...a,stage:m.value.find(r=>r.id===a.stageID)||null}))}:null});return(o,t)=>{var a;return e.value?(n(),l("div",T,[t[2]||(t[2]=s("div",{class:"detail-space"},null,-1)),s("div",j,[(a=e.value.image)!=null&&a.trim()?(n(),l("img",{key:0,src:D(k)+"images/"+e.value.image,class:"act-detail-view-img",onError:t[0]||(t[0]=r=>r.target.remove())},null,40,z)):f("",!0),p(V,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),s("div",H,[s("h3",null,c(e.value.name),1),e.value.subname?(n(),l("h4",R,c(e.value.subname),1)):f("",!0)])]),s("div",U,[s("div",q,[s("p",null,c(e.value.description),1),s("p",null,[s("strong",null,c(o.$t("genre"))+": ",1),(n(!0),l(g,null,h(e.value.tags.filter(r=>r.visible),(r,_)=>(n(),l("span",{key:_},[B(c(r.name),1),_<e.value.tags.filter(y=>y.visible).length-1?(n(),l("span",G,", ")):f("",!0)]))),128))]),s("ul",J,[(n(!0),l(g,null,h(e.value.weblinks,r=>(n(),L(P,{key:r.url,name:r.name,url:r.url},null,8,["name","url"]))),128))])]),t[1]||(t[1]=s("div",{class:"detail-line"},null,-1)),p(A,{filter:"act",filterID:[String(e.value.id)]},null,8,["filterID"])])])):(n(),l("div",K,[s("p",null,c(o.$t("act"))+" "+c(o.$t("not-found")),1)]))}}});export{te as default};
