import{_ as w,r as I,y as S,c as i,o as n,a,q as v,e as g,d as $,b as L,g as B,u as p,t as u,F as _,h,k}from"./index-D8q-9Edq.js";import{b,u as D,e as C}from"./useEventData-emzBeDna.js";import{S as E}from"./ScheduleListItem-565VnTDy.js";import{O as F}from"./OvalLink-Cny4y7Ga.js";import{F as N}from"./FavBtn-Dex-ilpC.js";import{T}from"./tagLabel-BsM9IHfm.js";const x=["href"],M={key:0,class:"fallback-name"},A=["innerHTML"],V={__name:"SocialMediaLink",props:{name:String,url:String},setup(d){const f=d,o=I("");async function m(c){if(o.value="",!c){console.warn("No Name provided, use fallback.");return}const t=`${b}icons/link/${c.toLowerCase()}.svg`;try{const l=await fetch(t);if(!l.ok){console.warn(`Icon not found: ${t}, use name instead.`);return}let e=await l.text();if(!e.includes("<svg")){console.warn(`Invalid Icon: ${t}, use name instead.`);return}e=e.replace(/fill="[^"]*"/g,'fill="currentColor"'),e=e.replace(/(width|height)="\d+[^"]*"/g,""),e=e.replace("<svg",'<svg class="resizable-svg"'),o.value=e}catch(l){console.error(`Error loading Icons: ${l}`)}}return S(()=>{m(f.name)}),(c,t)=>(n(),i("li",null,[a("a",{href:d.url,target:"_blank",rel:"noopener noreferrer"},[o.value?v("",!0):(n(),i("div",M,[g(F,{name:d.name},null,8,["name"])])),o.value?(n(),i("div",{key:1,class:"social-media-icon",innerHTML:o.value},null,8,A)):v("",!0)],8,x)]))}},H=w(V,[["__scopeId","data-v-4734ac5c"]]),O={key:0,class:"detail-view"},q={class:"detail-header"},z=["src"],R={class:"detail-title"},U={key:0},W={class:"detail-content"},j={class:"detail-content-text"},G={class:"detail-social-media"},J={key:1},ee=$({__name:"ActDetail",setup(d){const f=B(),{acts:o,performances:m,stages:c}=D(),t=L(()=>{if(!o.value||!m.value||!c.value)return null;const l=f.params.id,e=o.value.find(r=>r["id-name"]===l||r.id.toString()===l);return e?{...e,performances:m.value.filter(r=>r.actsIDArr.includes(e.id)).map(r=>({...r,stage:c.value.find(s=>s.id===r.stageID)||null}))}:null});return(l,e)=>{var r;return t.value?(n(),i("div",O,[e[2]||(e[2]=a("div",{class:"detail-space"},null,-1)),a("div",q,[(r=t.value.image)!=null&&r.trim()?(n(),i("img",{key:0,src:t.value.image.startsWith("http")?t.value.image:p(b)+t.value.image,class:"act-detail-view-img",onError:e[0]||(e[0]=s=>s.target.remove())},null,40,z)):v("",!0),g(N,{itemId:String(t.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",R,[a("h3",null,u(t.value.name),1),t.value.subname?(n(),i("h4",U,u(t.value.subname),1)):v("",!0)])]),a("div",W,[a("div",j,[a("p",null,u(t.value.description),1),a("p",null,[(n(!0),i(_,null,h(t.value.tags.filter(s=>s.visible),(s,y)=>(n(),k(T,{key:y,name:s.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",G,[(n(!0),i(_,null,h(t.value.weblinks,s=>(n(),k(H,{key:s.url,name:s.name,url:s.url},null,8,["name","url"]))),128))])]),e[1]||(e[1]=a("div",{class:"detail-line"},null,-1)),g(E,{filters:{...p(C),actIDs:[String(t.value.id)]}},null,8,["filters"])])])):(n(),i("div",J,[a("p",null,u(l.$t("act"))+" "+u(l.$t("not-found")),1)]))}}});export{ee as default};
