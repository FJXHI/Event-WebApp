import{d as w,b as D,l as E,c as a,u as I,a as o,f as d,e as c,t as r,j as v,F as p,h as _,w as f,r as b,o as n,_ as x}from"./index-BgWNFov8.js";import{u as N}from"./useEventData-CztJfjsB.js";import{B as C}from"./BackBtn-BolmAfRy.js";import{F}from"./FavBtn-Bes61ZIC.js";import"./IconHeart-BiJSGRWM.js";const L={key:0,class:"loading-message"},V={key:1,class:"event-detail-view"},S={key:0},T={key:0},j={key:0},A=["href"],K={key:2},P=w({__name:"EventDetail",setup(R){const g=E(),{performances:h,stages:k,acts:y,isLoading:B}=N(),e=D(()=>{const m=g.params.id,s=h.value.find(t=>t.id===Number(m)||t["id-name"]===m);if(!s)return null;const i=(s.actsIDArr??[]).map(t=>y.value.find(l=>l.id===t)).filter(Boolean),u=k.value.find(t=>t.id===s.stageID)||{id:0,name:"Unknown","id-name":""};return{...s,acts:i,stage:u}});return(m,s)=>{var u;const i=b("router-link");return I(B)?(n(),a("div",L,s[0]||(s[0]=[o("p",null,"Lade Event-Daten...",-1)]))):e.value?(n(),a("div",V,[d(C),o("h5",null,r(e.value.date)+" -- "+r(e.value.start_time)+" -- "+r(e.value.start_time),1),o("h3",null,[v(r(e.value.name)+" mit ",1),(n(!0),a(p,null,_(e.value.acts,(t,l)=>(n(),a("span",{key:t.id},[v(r(t.name)+" ",1),l<e.value.acts.length-1?(n(),a("span",S,", ")):c("",!0)]))),128)),d(F,{itemId:String(e.value.id),itemType:"event"},null,8,["itemId"])]),d(i,{to:"/act/"+(e.value.stage["id-name"]&&e.value.stage["id-name"].trim()!==""?e.value.stage["id-name"]:e.value.stage.id)},{default:f(()=>[o("h4",null,"📍"+r(e.value.stage.name),1)]),_:1},8,["to"]),(n(!0),a(p,null,_(e.value.acts,(t,l)=>(n(),a("span",{key:t.id},[d(i,{to:"/act/"+(t["id-name"]&&t["id-name"].trim()!==""?t["id-name"]:t.id)},{default:f(()=>[v(r(t.name),1)]),_:2},1032,["to"]),l<e.value.acts.length-1?(n(),a("span",T,", ")):c("",!0)]))),128)),o("p",null,r(e.value.description||"Keine Beschreibung verfügbar"),1),(u=e.value)!=null&&u.url?(n(),a("p",j,[o("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},r(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,A)])):c("",!0)])):(n(),a("div",K,s[1]||(s[1]=[o("p",null,"Das Event konnte nicht gefunden werden.",-1)])))}}}),J=x(P,[["__scopeId","data-v-aa66c2e3"]]);export{J as default};
