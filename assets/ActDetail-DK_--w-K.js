import{d as D,c as h,q as I,M as w,a as i,b as a,z as d,g as k,u as y,e as B,w as o,t as u,F as c,D as v,v as F,o as l}from"./index-ZOHrIU3M.js";import{u as C}from"./useEventData-fsS36B38.js";import{S as L}from"./ScheduleListItem-BQr4InJ5.js";import{S as N}from"./SocialMediaLink-CMKj_By9.js";import{F as x,T as b}from"./TagLabel-biCIe1zi.js";import{C as A}from"./Countdown-C8rg6UUd.js";import"./NoEntries-Bh3GU-A3.js";import"./OvalLink-AD1QRMhh.js";const E={key:0,class:"full-height detail-view"},T={class:"detail-header"},V=["src"],M={class:"detail-title"},P={key:0},$={class:"detail-content full-height"},q={class:"detail-content-text"},z={class:"detail-social-media"},R={key:1},X=D({__name:"ActDetail",setup(U){const S=I(),{acts:p,performances:f,stages:g}=C(),e=h(()=>{if(!p.value||!f.value||!g.value)return null;const r=S.params.id,s=p.value.find(n=>n["id-name"]===r||n.id.toString()===r);return s?{...s,performances:(f.value||[]).filter(n=>n.actsIDArr.includes(s.id)).map(n=>({...n,stage:g.value.find(t=>t.id===n.stageID)||null}))}:null}),_=h(()=>e.value?w(e.value.performances):null);return(r,s)=>{var n;return e.value?(l(),i("div",E,[s[2]||(s[2]=a("div",{class:"detail-space"},null,-1)),a("div",T,[(n=e.value.image)!=null&&n.trim()?(l(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:y(B)+e.value.image,class:"act-detail-view-img",onError:s[0]||(s[0]=t=>t.target.remove())},null,40,V)):d("",!0),k(x,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",M,[a("h3",null,u(e.value.name),1),e.value.subname?(l(),i("h4",P,u(e.value.subname),1)):d("",!0),_.value?(l(),o(A,{key:1,time:_.value.start_time},null,8,["time"])):d("",!0)])]),a("div",$,[a("div",q,[a("p",null,u(e.value.description),1),a("p",null,[(l(!0),i(c,null,v(e.value.tags.filter(t=>t.visible),(t,m)=>(l(),o(b,{key:m,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(l(!0),i(c,null,v(e.value["act-type"],(t,m)=>(l(),o(b,{key:m,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",z,[(l(!0),i(c,null,v(e.value.weblinks,t=>(l(),o(N,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),s[1]||(s[1]=a("div",{class:"detail-line"},null,-1)),k(L,{filters:{...y(F),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(l(),i("div",R,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{X as default};
