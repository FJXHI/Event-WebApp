import{d as b,r as I,c as m,a as o,b as a,L,z as g,t as i,o as l,_ as S,q as T,N as w,g as f,w as _,F as h,E as x,u as D,v as B}from"./index-BH5JhJmO.js";import{u as E}from"./useEventData-bm3qoW2o.js";import{S as N}from"./ScheduleListItem-CzKtBkyn.js";import{S as $}from"./SocialMediaLink-DqJijtAx.js";import{F as C,T as y}from"./TagLabel-CoioFmaa.js";import{C as F}from"./Countdown-DwkxeY59.js";import{I as V}from"./ItemDetailImg-DvhxiB4S.js";import"./NoEntries-CZ_mD_i4.js";import"./OvalLink-BeS6fHk_.js";const A={key:0},P=b({__name:"ExpandableText",props:{text:{},maxLength:{}},setup(k){const r=k,u=I(!1),v=()=>{u.value=!u.value},c=m(()=>r.maxLength??200),t=m(()=>r.text.length>c.value),p=m(()=>r.text.slice(0,c.value));return(s,n)=>(l(),o("div",null,[a("p",null,[L(i(u.value?s.text:p.value)+" ",1),!u.value&&t.value?(l(),o("span",A,"...")):g("",!0),t.value?(l(),o("a",{key:1,class:"more-button",onClick:v},i(u.value?s.$t("show-less"):s.$t("show-more")),1)):g("",!0)])]))}}),q=S(P,[["__scopeId","data-v-b619732c"]]),z={key:0,class:"full-height detail-view"},M={class:"detail-header"},R={class:"detail-title"},j={key:0},G={class:"detail-content full-height scroll-head"},H={class:"scroll-y-area"},J={class:"detail-content-text"},K={class:"detail-social-media"},O={key:1},le=b({__name:"ActDetail",setup(k){const r=T(),{acts:u,performances:v,stages:c}=E(),t=m(()=>{if(!u.value||!v.value||!c.value)return null;const s=r.params.id,n=u.value.find(e=>e["id-name"]===s||e.id.toString()===s);return n?{...n,performances:(v.value||[]).filter(e=>e.actsIDArr.includes(n.id)).map(e=>({...e,stage:c.value.find(d=>d.id===e.stageID)||null}))}:null}),p=m(()=>t.value?w(t.value.performances):null);return(s,n)=>t.value?(l(),o("div",z,[n[1]||(n[1]=a("div",{class:"detail-space"},null,-1)),a("div",M,[f(V,{image:t.value.image},null,8,["image"]),f(C,{itemId:String(t.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",R,[a("h3",null,i(t.value.name),1),t.value.subname?(l(),o("h4",j,i(t.value.subname),1)):g("",!0),p.value?(l(),_(F,{key:1,time:p.value.start_time},null,8,["time"])):g("",!0)])]),a("div",G,[a("div",H,[a("div",J,[f(q,{text:t.value.description},null,8,["text"]),a("p",null,[(l(!0),o(h,null,x(t.value.tags.filter(e=>e.visible),(e,d)=>(l(),_(y,{key:d,name:e.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(l(!0),o(h,null,x(t.value["act-type"],(e,d)=>(l(),_(y,{key:d,name:e,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",K,[(l(!0),o(h,null,x(t.value.weblinks,e=>(l(),_($,{key:e.url,name:e.name,url:e.url},null,8,["name","url"]))),128))])]),n[0]||(n[0]=a("div",{class:"detail-line"},null,-1)),f(N,{filters:{...D(B),actIDs:[String(t.value.id)]}},null,8,["filters"])])])])):(l(),o("div",O,[a("p",null,i(s.$t("act"))+" "+i(s.$t("not-found")),1)]))}});export{le as default};
