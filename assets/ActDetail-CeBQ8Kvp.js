import{_ as w,r as I,x as $,c as r,o as s,a,p as d,e as g,d as S,b as L,g as B,u as _,t as u,F as h,h as k,j as D,m as N}from"./index-B1us5al-.js";import{b as y,u as C,e as E}from"./useEventData-MA-LWvnG.js";import{S as F}from"./ScheduleListItem-CAH6QROG.js";import{O as x}from"./OvalLink-Cm1f-hBj.js";import{F as M}from"./FavBtn-BANH4ZLA.js";const T=["href"],V={key:0,class:"fallback-name"},A=["innerHTML"],H={__name:"SocialMediaLink",props:{name:String,url:String},setup(v){const f=v,o=I("");async function m(c){if(o.value="",!c){console.warn("No Name provided, use fallback.");return}const e=`${y}icons/link/${c.toLowerCase()}.svg`;try{const n=await fetch(e);if(!n.ok){console.warn(`Icon not found: ${e}, use name instead.`);return}let t=await n.text();if(!t.includes("<svg")){console.warn(`Invalid Icon: ${e}, use name instead.`);return}t=t.replace(/fill="[^"]*"/g,'fill="currentColor"'),t=t.replace(/(width|height)="\d+[^"]*"/g,""),t=t.replace("<svg",'<svg class="resizable-svg"'),o.value=t}catch(n){console.error(`Error loading Icons: ${n}`)}}return $(()=>{m(f.name)}),(c,e)=>(s(),r("li",null,[a("a",{href:v.url,target:"_blank",rel:"noopener noreferrer"},[o.value?d("",!0):(s(),r("div",V,[g(x,{name:v.name},null,8,["name"])])),o.value?(s(),r("div",{key:1,class:"social-media-icon",innerHTML:o.value},null,8,A)):d("",!0)],8,T)]))}},O=w(H,[["__scopeId","data-v-4734ac5c"]]),j={key:0,class:"detail-view"},z={class:"detail-header"},R=["src"],U={class:"detail-title"},W={key:0},q={class:"detail-content"},G={class:"detail-content-text"},J={key:0},K={class:"detail-social-media"},P={key:1},te=S({__name:"ActDetail",setup(v){const f=B(),{acts:o,performances:m,stages:c}=C(),e=L(()=>{if(!o.value||!m.value||!c.value)return null;const n=f.params.id,t=o.value.find(i=>i["id-name"]===n||i.id.toString()===n);return t?{...t,performances:m.value.filter(i=>i.actsIDArr.includes(t.id)).map(i=>({...i,stage:c.value.find(l=>l.id===i.stageID)||null}))}:null});return(n,t)=>{var i;return e.value?(s(),r("div",j,[t[2]||(t[2]=a("div",{class:"detail-space"},null,-1)),a("div",z,[(i=e.value.image)!=null&&i.trim()?(s(),r("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:_(y)+e.value.image,class:"act-detail-view-img",onError:t[0]||(t[0]=l=>l.target.remove())},null,40,R)):d("",!0),g(M,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",U,[a("h3",null,u(e.value.name),1),e.value.subname?(s(),r("h4",W,u(e.value.subname),1)):d("",!0)])]),a("div",q,[a("div",G,[a("p",null,u(e.value.description),1),a("p",null,[a("strong",null,u(n.$t("genre"))+": ",1),(s(!0),r(h,null,k(e.value.tags.filter(l=>l.visible),(l,p)=>(s(),r("span",{key:p},[D(u(l.name),1),p<e.value.tags.filter(b=>b.visible).length-1?(s(),r("span",J,", ")):d("",!0)]))),128))]),a("ul",K,[(s(!0),r(h,null,k(e.value.weblinks,l=>(s(),N(O,{key:l.url,name:l.name,url:l.url},null,8,["name","url"]))),128))])]),t[1]||(t[1]=a("div",{class:"detail-line"},null,-1)),g(F,{filters:{..._(E),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(s(),r("div",P,[a("p",null,u(n.$t("act"))+" "+u(n.$t("not-found")),1)]))}}});export{te as default};
