import{d as I,c as h,q as w,N as B,a as i,b as a,z as d,g as k,u as y,e as D,w as o,t as u,F as c,E as v,v as F,o as l}from"./index-UX-D3uhk.js";import{u as N}from"./useEventData-EF-4m1me.js";import{S as C}from"./ScheduleListItem-B72N3SbX.js";import{S as E}from"./SocialMediaLink-DXZg32RW.js";import{F as L,T as b}from"./TagLabel-DexB_7op.js";import{C as x}from"./Countdown-UuH7V69W.js";import"./NoEntries-mpZz-hNC.js";import"./OvalLink-qjQ76Y8t.js";const A={key:0,class:"full-height detail-view"},T={class:"detail-header"},V=["src"],P={class:"detail-title"},$={key:0},q={class:"detail-content full-height"},z={class:"detail-content-text"},M={class:"detail-social-media"},R={key:1},X=I({__name:"ActDetail",setup(U){const S=w(),{acts:p,performances:f,stages:g}=N(),e=h(()=>{if(!p.value||!f.value||!g.value)return null;const r=S.params.id,s=p.value.find(n=>n["id-name"]===r||n.id.toString()===r);return s?{...s,performances:(f.value||[]).filter(n=>n.actsIDArr.includes(s.id)).map(n=>({...n,stage:g.value.find(t=>t.id===n.stageID)||null}))}:null}),_=h(()=>e.value?B(e.value.performances):null);return(r,s)=>{var n;return e.value?(l(),i("div",A,[s[2]||(s[2]=a("div",{class:"detail-space"},null,-1)),a("div",T,[(n=e.value.image)!=null&&n.trim()?(l(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:y(D)+e.value.image,class:"act-detail-view-img",onError:s[0]||(s[0]=t=>t.target.remove())},null,40,V)):d("",!0),k(L,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",P,[a("h3",null,u(e.value.name),1),e.value.subname?(l(),i("h4",$,u(e.value.subname),1)):d("",!0),_.value?(l(),o(x,{key:1,time:_.value.start_time},null,8,["time"])):d("",!0)])]),a("div",q,[a("div",z,[a("p",null,u(e.value.description),1),a("p",null,[(l(!0),i(c,null,v(e.value.tags.filter(t=>t.visible),(t,m)=>(l(),o(b,{key:m,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(l(!0),i(c,null,v(e.value["act-type"],(t,m)=>(l(),o(b,{key:m,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",M,[(l(!0),i(c,null,v(e.value.weblinks,t=>(l(),o(E,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),s[1]||(s[1]=a("div",{class:"detail-line"},null,-1)),k(C,{filters:{...y(F),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(l(),i("div",R,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{X as default};
