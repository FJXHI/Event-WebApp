import{d as C,c as f,q as E,a as o,u as _,b as t,t as r,g as d,f as p,F as m,L as g,E as h,z as k,G as N,K as q,w as F,o as i,i as V,_ as $}from"./index-B4V8xzw8.js";import{u as x}from"./useEventData-Cw96nZF2.js";import{O as A}from"./OvalLink-OZhij4QA.js";import{F as y,T as K}from"./TagLabel-BsFDXJVr.js";import{C as S}from"./Countdown-BoFZn8Gw.js";import{I as U}from"./ItemDetailImg-D5eDAieO.js";const G={key:0},M={key:1,class:"event-detail-view detail-view scroll-head full-height"},O={class:"scroll-y-area"},j={class:"detail-header"},z={class:"event-detail-time"},P={class:"detail-title"},R={key:0},H={class:"detail-content"},J={class:"list-item-info pad"},Q={class:"list-item-name"},W={class:"detail-content-text"},X={key:0},Y=["href"],Z={key:2},ee=C({__name:"EventDetail",setup(te){const b=E(),{performances:w,stages:I,acts:T,isLoading:B}=x(),e=f(()=>{const l=b.params.id,a=w.value.find(u=>u.id===Number(l)||u["id-name"]===l);if(!a)return null;const n=(a.actsIDArr??[]).map(u=>T.value.find(s=>s.id===u)).filter(Boolean),c=I.value.find(u=>u.id===a.stageID)||{id:0,name:"Unknown","id-name":""};return{...a,acts:n,stage:c}}),D=f(()=>{var l,a,n;return e.value&&(((l=e.value.description)==null?void 0:l.trim())||((n=(a=e.value.acts[0])==null?void 0:a.description)==null?void 0:n.trim()))||"Keine Beschreibung verfügbar"}),L=f(()=>{if(!e.value)return[];const l=e.value.acts.flatMap(n=>n.tags||[]).filter(n=>n.visible),a=new Map;return l.forEach(n=>{a.has(n.name)||a.set(n.name,n)}),Array.from(a.values())});return(l,a)=>{var c,u;const n=q("router-link");return _(B)?(i(),o("div",G,[t("p",null,r(l.$t("loading")),1)])):e.value?(i(),o("div",M,[t("div",O,[a[0]||(a[0]=t("div",{class:"detail-space"},null,-1)),t("div",j,[d(U,{image:e.value.image},null,8,["image"]),t("div",z,[t("h4",null,r(_(p)(e.value.start_time,"Time"))+" – "+r(_(p)(e.value.end_time,"Time"))+", "+r(_(p)(e.value.start_time,"Date Long")),1)]),d(y,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),t("div",P,[t("h3",null,[e.value.name?(i(),o(m,{key:0},[g(r(e.value.name),1)],64)):e.value.acts.length?(i(!0),o(m,{key:1},h(e.value.acts,(s,v)=>(i(),o("span",{key:s.id},[g(r(s.name),1),v<e.value.acts.length-1?(i(),o("span",R,", ")):k("",!0)]))),128)):(i(),o(m,{key:2},[g(r(l.$t("Unknown")),1)],64))])]),d(A,{link:"/location/"+((c=e.value.stage["id-name"])!=null&&c.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:V,name:e.value.stage.name},null,8,["link","name"]),d(S,{time:e.value.start_time},null,8,["time"])]),t("div",H,[(i(!0),o(m,null,h(e.value.acts,(s,v)=>(i(),o("div",{key:s.id,class:"list-item-obj"},[d(n,{to:"/act/"+(s["id-name"]&&s["id-name"].trim()!==""?s["id-name"]:s.id),class:"list-item-link"},{default:N(()=>[t("div",J,[t("strong",Q,r(s.name),1)])]),_:2},1032,["to"]),d(y,{itemId:String(s.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),t("div",W,[t("p",null,r(D.value),1),(u=e.value)!=null&&u.url?(i(),o("p",X,[t("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},r(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,Y)])):k("",!0),(i(!0),o(m,null,h(L.value,(s,v)=>(i(),F(K,{key:"unique-act-tag-"+v,name:s.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])])])):(i(),o("div",Z,[t("p",null,r(l.$t("event"))+" "+r(l.$t("not-found")),1)]))}}}),re=$(ee,[["__scopeId","data-v-993e220f"]]);export{re as default};
