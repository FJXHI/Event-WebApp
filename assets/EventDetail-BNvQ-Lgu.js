import{d as B,b as T,j as L,c as s,u as m,a as t,t as n,f as u,F as c,k as _,g as h,e as k,w as N,l as C,o as i,_ as E}from"./index-CqKoZLBC.js";import{u as F,f as p}from"./useEventData-BPobgVkY.js";import{I as V}from"./IconGeo-BGcAAz9A.js";import{O as $}from"./OvalLink-sobbLpyh.js";import{F as g}from"./FavBtn-CyeXWAbf.js";import"./IconHeart-UbyyzDvB.js";const x={key:0},S={key:1,class:"event-detail-view detail-view"},j={class:"detail-header"},O={class:"event-detail-time"},U={class:"detail-title"},A={key:0},G={class:"detail-content"},K={class:"list-item-info"},P={class:"list-item-name"},R={class:"detail-content-text"},q={key:0},z=["href"],H={key:2},J=B({__name:"EventDetail",setup(M){const y=L(),{performances:w,stages:I,acts:b,isLoading:D}=F(),e=T(()=>{const l=y.params.id,r=w.value.find(o=>o.id===Number(l)||o["id-name"]===l);if(!r)return null;const v=(r.actsIDArr??[]).map(o=>b.value.find(a=>a.id===o)).filter(Boolean),d=I.value.find(o=>o.id===r.stageID)||{id:0,name:"Unknown","id-name":""};return{...r,acts:v,stage:d}});return(l,r)=>{var d,o;const v=C("router-link");return m(D)?(i(),s("div",x,[t("p",null,n(l.$t("loading")),1)])):e.value?(i(),s("div",S,[r[0]||(r[0]=t("div",{class:"detail-space"},null,-1)),t("div",j,[t("div",O,[t("h4",null,n(m(p)(e.value.start_time,"Time"))+" – "+n(m(p)(e.value.end_time,"Time"))+", "+n(m(p)(e.value.start_time,"Date Long")),1)]),u(g,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),t("div",U,[t("h3",null,[e.value.name?(i(),s(c,{key:0},[_(n(e.value.name),1)],64)):e.value.acts.length?(i(!0),s(c,{key:1},h(e.value.acts,(a,f)=>(i(),s("span",{key:a.id},[_(n(a.name),1),f<e.value.acts.length-1?(i(),s("span",A,", ")):k("",!0)]))),128)):(i(),s(c,{key:2},[_(n(l.$t("Unknown")),1)],64))])]),u($,{link:"/location/"+((d=e.value.stage["id-name"])!=null&&d.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:V,name:e.value.stage.name},null,8,["link","name"])]),t("div",G,[(i(!0),s(c,null,h(e.value.acts,(a,f)=>(i(),s("div",{key:a.id,class:"list-item-obj"},[u(v,{to:"/act/"+(a["id-name"]&&a["id-name"].trim()!==""?a["id-name"]:a.id),class:"list-item-link"},{default:N(()=>[t("div",K,[t("strong",P,n(a.name),1)])]),_:2},1032,["to"]),u(g,{itemId:String(a.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),t("div",R,[t("p",null,n(e.value.description||"Keine Beschreibung verfügbar"),1),(o=e.value)!=null&&o.url?(i(),s("p",q,[t("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},n(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,z)])):k("",!0)])])])):(i(),s("div",H,[t("p",null,n(l.$t("event"))+" "+n(l.$t("not-found")),1)]))}}}),te=E(J,[["__scopeId","data-v-fbf2ef71"]]);export{te as default};
