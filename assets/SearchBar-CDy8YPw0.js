import{d as Q,r as c,c as m,a as i,b as a,t as r,x as u,F as v,C as y,u as _,y as g,o,E as h,J as W,w as T,M as B,_ as M,g as X,N as Y,O as Z}from"./index-BmnCv2hm.js";import{u as x}from"./useEventData-Dd6f8Kyj.js";import{T as S}from"./TagLabel-BzBDV8sa.js";const ee={class:"overlay"},te={class:"filter-modal"},ae={class:"filter-modal-header"},se={class:"filter-modal-body"},le={class:"filter-group"},oe={class:"filter-button-group"},ne=["onClick"],re={class:"filter-group"},ie={class:"filter-button-group"},ce={class:"filter-group"},ue={class:"filter-button-group"},de={class:"filter-group"},pe={class:"filter-button-group"},fe={class:"filter-group"},ve={class:"filter-button-group"},ye={class:"filter-group"},ge={class:"filter-button-group"},he={class:"filter-modal-footer"},me=Q({__name:"FilterMenu",props:{initialStages:{type:Array,default:()=>[]},initialStageTypes:{type:Array,default:()=>[]},initialCategories:{type:Array,default:()=>[]},initialActTypes:{type:Array,default:()=>[]},initialPerforTypes:{type:Array,default:()=>[]},initialPerformanceTags:{type:Array,default:()=>[]},initialSearchQuery:{type:String,default:""},showStageFilter:{type:Boolean,default:!1},showStageTypeFilter:{type:Boolean,default:!1},showCategoryFilter:{type:Boolean,default:!1},showActTypeFilter:{type:Boolean,default:!1},showPerforTypeFilter:{type:Boolean,default:!1},showPerformanceTagFilter:{type:Boolean,default:!1}},emits:["apply","close"],setup(I,{emit:E}){const b=E,{stages:d,acts:k,performances:C}=x(),l=I,p=c([...l.initialStages.map(Number)]),$=c([...l.initialStageTypes]),w=c([...l.initialCategories]),A=c([...l.initialActTypes]),F=c([...l.initialPerforTypes]),P=c([...l.initialPerformanceTags]),N=c(l.initialSearchQuery),V=m(()=>{const t=new Set;return d.value.forEach(s=>{s.type&&t.add(s.type)}),Array.from(t)}),z=m(()=>{const t=new Set;return k.value.forEach(s=>{var e;(e=s.tags)==null||e.forEach(n=>{n.visible&&t.add(n.name)})}),Array.from(t)}),D=m(()=>{const t=new Set;return k.value.forEach(s=>{var e;(e=s["act-type"])==null||e.forEach(n=>{t.add(n)})}),Array.from(t)}),L=m(()=>{const t=new Set;return C.value.forEach(s=>{s.type&&t.add(s.type)}),Array.from(t)}),O=m(()=>{const t=new Set;return C.value.forEach(s=>{var e;(e=s.tags)==null||e.forEach(n=>t.add(n))}),Array.from(t)}),f=(t,s)=>{const e=t.indexOf(s);e>=0?t.splice(e,1):t.push(s)},J=t=>f(p.value,t),U=t=>f($.value,t),j=t=>f(w.value,t),q=t=>f(A.value,t),G=t=>f(F.value,t),H=t=>f(P.value,t),K=()=>{p.value=[],$.value=[],w.value=[],A.value=[],F.value=[],P.value=[],N.value=""},R=()=>{b("apply",{stages:p.value.map(String),stageTypes:$.value,categories:w.value,actTypes:A.value,perforTypes:F.value,performanceTags:P.value,searchQuery:N.value.trim()}),b("close")};return(t,s)=>(o(),i("div",ee,[a("div",te,[a("div",ae,[a("h2",null,r(t.$t("filter")),1),a("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"filter-close-btn"},"×")]),a("div",se,[a("button",{onClick:K,class:"filter-reset-btn"}," ↻ "+r(t.$t("reset-filter")),1),u(a("div",le,[a("h3",null,r(t.$t("stages")),1),a("div",oe,[(o(!0),i(v,null,y(_(d),e=>(o(),i("button",{key:e.id,onClick:n=>J(e.id),class:h({selected:p.value.includes(e.id)})},[s[1]||(s[1]=a("span",null,"📍",-1)),W(" "+r(e.name),1)],10,ne))),128))])],512),[[g,l.showStageFilter]]),u(a("div",re,[a("h3",null,r(t.$t("Location-Types")),1),a("div",ie,[(o(!0),i(v,null,y(V.value,e=>(o(),T(S,{key:e,name:_(B)(e),tag:"button",onClick:n=>U(e),class:h({selected:$.value.includes(e)})},null,8,["name","onClick","class"]))),128))])],512),[[g,l.showStageTypeFilter]]),u(a("div",ce,[a("h3",null,r(t.$t("kategorien")),1),a("div",ue,[(o(!0),i(v,null,y(z.value,e=>(o(),T(S,{key:e,name:_(B)(e),tag:"button",onClick:n=>j(e),class:h({selected:w.value.includes(e)})},null,8,["name","onClick","class"]))),128))])],512),[[g,l.showCategoryFilter]]),u(a("div",de,[a("h3",null,r(t.$t("Act Types")),1),a("div",pe,[(o(!0),i(v,null,y(D.value,e=>(o(),T(S,{key:e,name:_(B)(e),tag:"button",onClick:n=>q(e),class:h({selected:A.value.includes(e)})},null,8,["name","onClick","class"]))),128))])],512),[[g,l.showActTypeFilter]]),u(a("div",fe,[a("h3",null,r(t.$t("Performance-Types")),1),a("div",ve,[(o(!0),i(v,null,y(L.value,e=>(o(),T(S,{key:e,name:_(B)(e),tag:"button",onClick:n=>G(e),class:h({selected:F.value.includes(e)})},null,8,["name","onClick","class"]))),128))])],512),[[g,l.showPerforTypeFilter]]),u(a("div",ye,[a("h3",null,r(t.$t("Performance-Tags")),1),a("div",ge,[(o(!0),i(v,null,y(O.value,e=>(o(),T(S,{key:e,name:e,tag:"button",onClick:n=>H(e),class:h({selected:P.value.includes(e)})},null,8,["name","onClick","class"]))),128))])],512),[[g,l.showPerformanceTagFilter]])]),a("div",he,[a("button",{onClick:R,class:"filter-apply-btn"},r(t.$t("apply-filter")),1)])])]))}}),Ae=M(me,[["__scopeId","data-v-938e52e1"]]),_e={class:"search-bar"},Te={class:"search-inputline"},Se={class:"search-icon"},be=["placeholder"],ke=Q({__name:"SearchBar",emits:["apply"],setup(I,{emit:E}){const b=E,d=c(""),k=()=>{b("apply",d.value)};return(C,l)=>(o(),i("div",_e,[a("div",Te,[a("div",Se,[X(Y,{class:"icon-size"})]),u(a("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=p=>d.value=p),onInput:k,placeholder:C.$t("search-placeholder")},null,40,be),[[Z,d.value]])])]))}}),Fe=M(ke,[["__scopeId","data-v-550d5a5b"]]);export{Ae as F,Fe as S};
