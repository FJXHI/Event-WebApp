import{d as L,c as m,q as T,r as g,a as n,b as i,w as F,y as S,z as b,x as $,g as p,t as d,F as B,C as N,D as V,H as q,o as a,_ as x,u as A}from"./index-C__xxzqB.js";import{u as C}from"./useEventData-jweThlje.js";import{F as E,T as M}from"./TagLabel-CiNlt0xw.js";import{S as O,F as j}from"./SearchBar-QIW37Vyk.js";const z={class:"locations-list"},H={class:"app-head"},J={class:"btn-header"},Q={class:"app-body"},R={key:0},G={class:"list-item-info pad"},K={class:"list-item-name"},P={class:"list-item-tags"},U={key:1},W=L({__name:"LocationList",props:{filterID:{}},setup(k){const v=T(),_=m(()=>v.query.search??"false"),l=g(""),f=e=>{l.value=e.toLowerCase().trim()},o=g(!1),{stages:r}=C(),y=k,u=g({stageTypes:[]}),D=e=>{u.value.stageTypes=e.stageTypes||[]},w=m(()=>{if(!r.value||r.value.length===0)return[];let e=r.value;return y.filterID&&y.filterID.length>0&&(e=e.filter(t=>y.filterID.includes(t.id))),u.value.stageTypes.length>0&&(e=e.filter(t=>t.type&&u.value.stageTypes.includes(t.type))),l.value&&(e=e.filter(t=>{var c,I;const h=((c=t.name)==null?void 0:c.toLowerCase())||"",s=((I=t.description)==null?void 0:I.toLowerCase())||"";return h.includes(l.value)||s.includes(l.value)})),e});return(e,t)=>{const h=q("router-link");return a(),n("div",z,[i("div",H,[F(p(O,{onApply:f},null,512),[[$,_.value==="true"]]),o.value?(a(),S(j,{key:0,showStageTypeFilter:!0,"initial-stage-types":u.value.stageTypes,onApply:D,onClose:t[0]||(t[0]=s=>o.value=!1)},null,8,["initial-stage-types"])):b("",!0)]),i("div",J,[i("button",{onClick:t[1]||(t[1]=s=>o.value=!0),class:"open-filter schedul-btn"},d(e.$t("open-filter")),1)]),i("div",Q,[w.value.length>0?(a(),n("ul",R,[(a(!0),n(B,null,N(w.value,s=>{var c;return a(),n("li",{key:s.id,class:"list-item-obj"},[p(h,{to:"/location/"+((c=s["id-name"])!=null&&c.trim()?s["id-name"]:s.id),class:"list-item-link"},{default:V(()=>[i("div",G,[i("strong",K,d(s.name),1),i("span",P,[s.type?(a(),S(M,{key:0,name:s.type,class:"tag-label-item TagLabel"},null,8,["name"])):b("",!0)])])]),_:2},1032,["to"]),p(E,{itemId:String(s.id),itemType:"stage",class:"list-item-fav-btn"},null,8,["itemId"])])}),128))])):(a(),n("p",U,d(e.$t("no-locations")),1))])])}}}),X=x(W,[["__scopeId","data-v-973427b3"]]),Y={class:"list-view"},Z={key:0},ee={key:1},ne=L({__name:"LocationsView",setup(k){const{stages:v}=C(),_=T(),l=m(()=>_.query.fav==="true"),f=m(()=>{const o=localStorage.getItem("stage");return o?JSON.parse(o).map(r=>parseInt(r)):[]});return(o,r)=>(a(),n("div",Y,[A(v).length>0?(a(),n("div",Z,[p(X,{filterID:l.value?f.value:void 0},null,8,["filterID"])])):(a(),n("p",ee,d(o.$t("no-locations")),1))]))}});export{ne as default};
