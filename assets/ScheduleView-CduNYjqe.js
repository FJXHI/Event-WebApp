import{u as b}from"./useEventData-C6K5ya8u.js";import{_ as m,r as d,b as $,c as p,a as t,t as r,F as C,g as k,o as f,h as y,d as S,f as A,i as F,e as w}from"./index-DvcuvLHm.js";import{S as D}from"./ScheduleList-BNOmtFef.js";import"./FavBtn-CwiVT7Fn.js";import"./IconHeart-CKbA9oUe.js";const I={class:"overlay"},V={class:"filter-modal"},B={class:"filter-modal-header"},E={class:"filter-modal-body"},L={class:"filter-group"},M={class:"filter-button-group"},N=["onClick"],z={class:"filter-modal-footer"},P={__name:"FilterMenu",emits:["apply","close"],setup(_,{emit:i}){const{acts:c}=b(),u=i,l=d([]),s=d([]),o=$(()=>{if(!Array.isArray(c.value))return[];const e=new Set;return c.value.forEach(n=>{Array.isArray(n.tags)&&n.tags.forEach(a=>{a.visible&&e.add(a.name)})}),Array.from(e)}),v=e=>{l.value.includes(e)?l.value=l.value.filter(n=>n!==e):l.value.push(e)},g=()=>{l.value=[],s.value=[]},h=()=>{const e={categories:l.value,stages:s.value};u("apply",e),u("close")};return(e,n)=>(f(),p("div",I,[t("div",V,[t("div",B,[t("h2",null,r(e.$t("filter")),1),t("button",{onClick:n[0]||(n[0]=a=>e.$emit("close")),class:"filter-close-btn"},"×")]),t("div",E,[t("button",{onClick:g,class:"filter-reset-btn"}," ↻ "+r(e.$t("reset-filter")),1),t("div",L,[t("h3",null,r(e.$t("kategorien")),1),t("div",M,[(f(!0),p(C,null,k(o.value,a=>(f(),p("button",{key:a,onClick:G=>v(a),class:y({selected:l.value.includes(a)})},r(a),11,N))),128))])])]),t("div",z,[t("button",{onClick:h,class:"filter-apply-btn"},r(e.$t("apply-filter")),1)])])]))}},T=m(P,[["__scopeId","data-v-dc6c9834"]]),j={class:"btn-header"},q=S({__name:"ScheduleView",setup(_){const i=d(!1),c=d("all"),u=d([]),l=s=>{console.log(s),c.value=s.categories.length>0?"tags":"all",u.value=s.categories.length>0?s.categories:[]};return(s,o)=>(f(),p("div",null,[t("div",j,[t("button",{onClick:o[0]||(o[0]=v=>s.$router.push("/timetable")),class:"btn-view-chang"},r(s.$t("change-view")),1),i.value?(f(),F(T,{key:0,onApply:l,onClose:o[1]||(o[1]=v=>i.value=!1)})):w("",!0),t("button",{onClick:o[2]||(o[2]=v=>i.value=!0),class:"open-filter"},r(s.$t("open-filter")),1)]),A(D,{filter:c.value,filterID:u.value,class:"ProgrammList"},null,8,["filter","filterID"])]))}}),R=m(q,[["__scopeId","data-v-f9d2a8b9"]]);export{R as default};
