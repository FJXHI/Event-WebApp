import{d as I,c as _,q as w,K as B,a as i,b as a,z as h,g as m,u as k,e as D,t as u,F as d,C as c,v as C,w as v,o as n}from"./index-DKefyKtp.js";import{u as F}from"./useEventData-DyRmerBd.js";import{S as L}from"./ScheduleListItem-BIFkYkTV.js";import{S as N}from"./SocialMediaLink-DICR484h.js";import{F as x,T as y}from"./TagLabel-DqA3zG42.js";import{C as A}from"./Countdown-DQT23fdP.js";import"./NoEntries-9vZ7ntmf.js";import"./OvalLink-CK73kMVm.js";const E={key:0,class:"full-height detail-view"},T={class:"detail-header"},V=["src"],P={class:"detail-title"},$={key:0},q={class:"detail-content full-height"},z={class:"detail-content-text"},K={class:"detail-social-media"},M={key:1},X=I({__name:"ActDetail",setup(R){const b=w(),{acts:p,performances:f,stages:g}=F(),e=_(()=>{if(!p.value||!f.value||!g.value)return null;const r=b.params.id,l=p.value.find(s=>s["id-name"]===r||s.id.toString()===r);return l?{...l,performances:f.value.filter(s=>s.actsIDArr.includes(l.id)).map(s=>({...s,stage:g.value.find(t=>t.id===s.stageID)||null}))}:null}),S=_(()=>e.value?B(e.value.performances):null);return(r,l)=>{var s;return e.value?(n(),i("div",E,[l[2]||(l[2]=a("div",{class:"detail-space"},null,-1)),a("div",T,[(s=e.value.image)!=null&&s.trim()?(n(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:k(D)+e.value.image,class:"act-detail-view-img",onError:l[0]||(l[0]=t=>t.target.remove())},null,40,V)):h("",!0),m(x,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",P,[a("h3",null,u(e.value.name),1),e.value.subname?(n(),i("h4",$,u(e.value.subname),1)):h("",!0),m(A,{time:S.value.start_time},null,8,["time"])])]),a("div",q,[a("div",z,[a("p",null,u(e.value.description),1),a("p",null,[(n(!0),i(d,null,c(e.value.tags.filter(t=>t.visible),(t,o)=>(n(),v(y,{key:o,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(n(!0),i(d,null,c(e.value["act-type"],(t,o)=>(n(),v(y,{key:o,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",K,[(n(!0),i(d,null,c(e.value.weblinks,t=>(n(),v(N,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),l[1]||(l[1]=a("div",{class:"detail-line"},null,-1)),m(L,{filters:{...k(C),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(n(),i("div",M,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{X as default};
