import{d as L,c as g,q as C,a as n,u as _,b as t,t as i,g as u,f,F as c,K as p,D as h,z as k,E,J as N,w as q,o as s,i as F,_ as V}from"./index-DJxE-Fqm.js";import{u as $}from"./useEventData-CLccO9Wt.js";import{O as x}from"./OvalLink-BT_OLm7q.js";import{F as y,T as A}from"./TagLabel-ClzWwkXI.js";import{C as S}from"./Countdown-CVpyncQh.js";const U={key:0},K={key:1,class:"event-detail-view detail-view scroll-head full-height"},M={class:"scroll-y-area"},O={class:"detail-header"},j={class:"event-detail-time"},z={class:"detail-title"},G={key:0},J={class:"detail-content"},P={class:"list-item-info pad"},R={class:"list-item-name"},H={class:"detail-content-text"},Q={key:0},W=["href"],X={key:2},Y=L({__name:"EventDetail",setup(Z){const b=C(),{performances:w,stages:T,acts:B,isLoading:D}=$(),e=g(()=>{const r=b.params.id,l=w.value.find(d=>d.id===Number(r)||d["id-name"]===r);if(!l)return null;const o=(l.actsIDArr??[]).map(d=>B.value.find(a=>a.id===d)).filter(Boolean),m=T.value.find(d=>d.id===l.stageID)||{id:0,name:"Unknown","id-name":""};return{...l,acts:o,stage:m}}),I=g(()=>{if(!e.value)return[];const r=e.value.acts.flatMap(o=>o.tags||[]).filter(o=>o.visible),l=new Map;return r.forEach(o=>{l.has(o.name)||l.set(o.name,o)}),Array.from(l.values())});return(r,l)=>{var m,d;const o=N("router-link");return _(D)?(s(),n("div",U,[t("p",null,i(r.$t("loading")),1)])):e.value?(s(),n("div",K,[t("div",M,[l[0]||(l[0]=t("div",{class:"detail-space"},null,-1)),t("div",O,[t("div",j,[t("h4",null,i(_(f)(e.value.start_time,"Time"))+" – "+i(_(f)(e.value.end_time,"Time"))+", "+i(_(f)(e.value.start_time,"Date Long")),1)]),u(y,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),t("div",z,[t("h3",null,[e.value.name?(s(),n(c,{key:0},[p(i(e.value.name),1)],64)):e.value.acts.length?(s(!0),n(c,{key:1},h(e.value.acts,(a,v)=>(s(),n("span",{key:a.id},[p(i(a.name),1),v<e.value.acts.length-1?(s(),n("span",G,", ")):k("",!0)]))),128)):(s(),n(c,{key:2},[p(i(r.$t("Unknown")),1)],64))])]),u(x,{link:"/location/"+((m=e.value.stage["id-name"])!=null&&m.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:F,name:e.value.stage.name},null,8,["link","name"]),u(S,{time:e.value.start_time},null,8,["time"])]),t("div",J,[(s(!0),n(c,null,h(e.value.acts,(a,v)=>(s(),n("div",{key:a.id,class:"list-item-obj"},[u(o,{to:"/act/"+(a["id-name"]&&a["id-name"].trim()!==""?a["id-name"]:a.id),class:"list-item-link"},{default:E(()=>[t("div",P,[t("strong",R,i(a.name),1)])]),_:2},1032,["to"]),u(y,{itemId:String(a.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),t("div",H,[t("p",null,i(e.value.description||"Keine Beschreibung verfügbar"),1),(d=e.value)!=null&&d.url?(s(),n("p",Q,[t("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},i(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,W)])):k("",!0),(s(!0),n(c,null,h(I.value,(a,v)=>(s(),q(A,{key:"unique-act-tag-"+v,name:a.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])])])):(s(),n("div",X,[t("p",null,i(r.$t("event"))+" "+i(r.$t("not-found")),1)]))}}}),ie=V(Y,[["__scopeId","data-v-fbe3f3ac"]]);export{ie as default};
