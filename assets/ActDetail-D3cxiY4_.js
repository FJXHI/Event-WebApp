import{d as b,c as S,q as I,a as n,b as a,z as g,g as _,u as h,e as B,t as u,F as d,C as c,v as D,y as m,o as i}from"./index-CZaOsU5D.js";import{u as F}from"./useEventData-CQnlCbtv.js";import{S as w}from"./ScheduleListItem-BHBTH94a.js";import{S as L}from"./SocialMediaLink-C5EwtiEa.js";import{F as A,T as y}from"./TagLabel-mnQKG_r5.js";import"./OvalLink-BaZ4CA-G.js";const C={key:0,class:"full-height detail-view"},E={class:"detail-header"},N=["src"],T={class:"detail-title"},V={key:0},$={class:"detail-content full-height"},q={class:"detail-content-text"},x={class:"detail-social-media"},z={key:1},J=b({__name:"ActDetail",setup(M){const k=I(),{acts:v,performances:p,stages:f}=F(),e=S(()=>{if(!v.value||!p.value||!f.value)return null;const r=k.params.id,l=v.value.find(s=>s["id-name"]===r||s.id.toString()===r);return l?{...l,performances:p.value.filter(s=>s.actsIDArr.includes(l.id)).map(s=>({...s,stage:f.value.find(t=>t.id===s.stageID)||null}))}:null});return(r,l)=>{var s;return e.value?(i(),n("div",C,[l[2]||(l[2]=a("div",{class:"detail-space"},null,-1)),a("div",E,[(s=e.value.image)!=null&&s.trim()?(i(),n("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:h(B)+e.value.image,class:"act-detail-view-img",onError:l[0]||(l[0]=t=>t.target.remove())},null,40,N)):g("",!0),_(A,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",T,[a("h3",null,u(e.value.name),1),e.value.subname?(i(),n("h4",V,u(e.value.subname),1)):g("",!0)])]),a("div",$,[a("div",q,[a("p",null,u(e.value.description),1),a("p",null,[(i(!0),n(d,null,c(e.value.tags.filter(t=>t.visible),(t,o)=>(i(),m(y,{key:o,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(i(!0),n(d,null,c(e.value["act-type"],(t,o)=>(i(),m(y,{key:o,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",x,[(i(!0),n(d,null,c(e.value.weblinks,t=>(i(),m(L,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),l[1]||(l[1]=a("div",{class:"detail-line"},null,-1)),_(w,{filters:{...h(D),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(i(),n("div",z,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{J as default};
