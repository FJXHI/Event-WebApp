import{d as I,c as h,q as w,N as B,a as i,b as a,z as m,g as y,u as k,e as D,w as o,t as u,F as c,E as v,v as F,o as l}from"./index-BR-yqsSR.js";import{u as N}from"./useEventData-CQLj69iX.js";import{S as C}from"./ScheduleListItem-DqdYfw8l.js";import{S as E}from"./SocialMediaLink-CtlBZlsC.js";import{F as L,T as b}from"./TagLabel-qznEqKvQ.js";import{C as x}from"./Countdown-c3bIv6v-.js";import"./NoEntries-Dwx70cQ-.js";import"./OvalLink-_2zTDfDs.js";const A={key:0,class:"full-height detail-view"},T={class:"detail-header"},V=["src"],P={class:"detail-title"},$={key:0},q={class:"detail-content full-height scroll-head"},z={class:"scroll-y-area"},M={class:"detail-content-text"},R={class:"detail-social-media"},U={key:1},Y=I({__name:"ActDetail",setup(W){const S=w(),{acts:p,performances:f,stages:g}=N(),e=h(()=>{if(!p.value||!f.value||!g.value)return null;const r=S.params.id,s=p.value.find(n=>n["id-name"]===r||n.id.toString()===r);return s?{...s,performances:(f.value||[]).filter(n=>n.actsIDArr.includes(s.id)).map(n=>({...n,stage:g.value.find(t=>t.id===n.stageID)||null}))}:null}),_=h(()=>e.value?B(e.value.performances):null);return(r,s)=>{var n;return e.value?(l(),i("div",A,[s[2]||(s[2]=a("div",{class:"detail-space"},null,-1)),a("div",T,[(n=e.value.image)!=null&&n.trim()?(l(),i("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:k(D)+e.value.image,class:"act-detail-view-img",onError:s[0]||(s[0]=t=>t.target.remove())},null,40,V)):m("",!0),y(L,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",P,[a("h3",null,u(e.value.name),1),e.value.subname?(l(),i("h4",$,u(e.value.subname),1)):m("",!0),_.value?(l(),o(x,{key:1,time:_.value.start_time},null,8,["time"])):m("",!0)])]),a("div",q,[a("div",z,[a("div",M,[a("p",null,u(e.value.description),1),a("p",null,[(l(!0),i(c,null,v(e.value.tags.filter(t=>t.visible),(t,d)=>(l(),o(b,{key:d,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("p",null,[(l(!0),i(c,null,v(e.value["act-type"],(t,d)=>(l(),o(b,{key:d,name:t,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",R,[(l(!0),i(c,null,v(e.value.weblinks,t=>(l(),o(E,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),s[1]||(s[1]=a("div",{class:"detail-line"},null,-1)),y(C,{filters:{...k(F),actIDs:[String(e.value.id)]}},null,8,["filters"])])])])):(l(),i("div",U,[a("p",null,u(r.$t("act"))+" "+u(r.$t("not-found")),1)]))}}});export{Y as default};
