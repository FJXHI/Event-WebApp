import{d as g,c as u,p as S,r as w,a as o,z as D,A as L,g as c,F as C,q as $,t as f,E as B,b as I,H as F,o as a,_ as b,u as q}from"./index-C5mK4R5I.js";import{u as k}from"./useEventData-Ck0WbNMU.js";import{F as x}from"./FavBtn-AqkSGlXI.js";import{S as E}from"./SearchBar-B_ZMwQi8.js";const N={class:"locations-list"},V={key:0},A={class:"list-item-info pad"},O={class:"list-item-name"},j={key:1},z=g({__name:"LocationList",props:{filterID:{}},setup(v){const d=S(),_=u(()=>d.query.search??"false"),n=w(""),m=e=>{n.value=e.toLowerCase().trim()},{stages:t}=k(),i=v,h=u(()=>{if(!t.value||t.value.length===0)return[];let e=t.value;return i.filterID&&i.filterID.length>0&&(e=e.filter(r=>i.filterID.includes(r.id))),n.value&&(e=e.filter(r=>{var l,y;const p=((l=r.name)==null?void 0:l.toLowerCase())||"",s=((y=r.description)==null?void 0:y.toLowerCase())||"";return p.includes(n.value)||s.includes(n.value)})),e});return(e,r)=>{const p=F("router-link");return a(),o("div",N,[D(c(E,{onApply:m},null,512),[[L,_.value==="true"]]),h.value.length>0?(a(),o("ul",V,[(a(!0),o(C,null,$(h.value,s=>{var l;return a(),o("li",{key:s.id,class:"list-item-obj"},[c(p,{to:"/location/"+((l=s["id-name"])!=null&&l.trim()?s["id-name"]:s.id),class:"list-item-link"},{default:B(()=>[I("div",A,[I("strong",O,f(s.name),1)])]),_:2},1032,["to"]),c(x,{itemId:String(s.id),itemType:"stage",class:"list-item-fav-btn"},null,8,["itemId"])])}),128))])):(a(),o("p",j,f(e.$t("no-locations")),1))])}}}),H=b(z,[["__scopeId","data-v-39676935"]]),J={class:"list-view"},Q={key:0},R={key:1},P=g({__name:"LocationsView",setup(v){const{stages:d}=k(),_=S(),n=u(()=>_.query.fav==="true"),m=u(()=>{const t=localStorage.getItem("stage");return t?JSON.parse(t).map(i=>parseInt(i)):[]});return(t,i)=>(a(),o("div",J,[q(d).length>0?(a(),o("div",Q,[c(H,{filterID:n.value?m.value:void 0},null,8,["filterID"])])):(a(),o("p",R,f(t.$t("no-locations")),1))]))}});export{P as default};
