import{d as L,c as h,q as N,a as s,u as v,b as a,t as i,g as _,f as p,F as u,J as f,C as g,z as k,D as C,H as E,y as q,o as n,i as F,_ as V}from"./index-BdlLSpyO.js";import{u as $}from"./useEventData-DS76df0J.js";import{O as x}from"./OvalLink-B2yxwW2J.js";import{F as y,T as A}from"./TagLabel-3Kw3Vu_T.js";const S={key:0},U={key:1,class:"event-detail-view detail-view"},M={class:"detail-header"},O={class:"event-detail-time"},j={class:"detail-title"},z={key:0},G={class:"detail-content"},H={class:"list-item-info pad"},J={class:"list-item-name"},K={class:"detail-content-text"},P={key:0},R=["href"],Q={key:2},W=L({__name:"EventDetail",setup(X){const b=N(),{performances:T,stages:w,acts:B,isLoading:D}=$(),e=h(()=>{const r=b.params.id,l=T.value.find(d=>d.id===Number(r)||d["id-name"]===r);if(!l)return null;const o=(l.actsIDArr??[]).map(d=>B.value.find(t=>t.id===d)).filter(Boolean),c=w.value.find(d=>d.id===l.stageID)||{id:0,name:"Unknown","id-name":""};return{...l,acts:o,stage:c}}),I=h(()=>{if(!e.value)return[];const r=e.value.acts.flatMap(o=>o.tags||[]).filter(o=>o.visible),l=new Map;return r.forEach(o=>{l.has(o.name)||l.set(o.name,o)}),Array.from(l.values())});return(r,l)=>{var c,d;const o=E("router-link");return v(D)?(n(),s("div",S,[a("p",null,i(r.$t("loading")),1)])):e.value?(n(),s("div",U,[l[0]||(l[0]=a("div",{class:"detail-space"},null,-1)),a("div",M,[a("div",O,[a("h4",null,i(v(p)(e.value.start_time,"Time"))+" – "+i(v(p)(e.value.end_time,"Time"))+", "+i(v(p)(e.value.start_time,"Date Long")),1)]),_(y,{itemId:String(e.value.id),itemType:"event",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",j,[a("h3",null,[e.value.name?(n(),s(u,{key:0},[f(i(e.value.name),1)],64)):e.value.acts.length?(n(!0),s(u,{key:1},g(e.value.acts,(t,m)=>(n(),s("span",{key:t.id},[f(i(t.name),1),m<e.value.acts.length-1?(n(),s("span",z,", ")):k("",!0)]))),128)):(n(),s(u,{key:2},[f(i(r.$t("Unknown")),1)],64))])]),_(x,{link:"/location/"+((c=e.value.stage["id-name"])!=null&&c.trim()?e.value.stage["id-name"]:e.value.stage.id),icon:F,name:e.value.stage.name},null,8,["link","name"])]),a("div",G,[(n(!0),s(u,null,g(e.value.acts,(t,m)=>(n(),s("div",{key:t.id,class:"list-item-obj"},[_(o,{to:"/act/"+(t["id-name"]&&t["id-name"].trim()!==""?t["id-name"]:t.id),class:"list-item-link"},{default:C(()=>[a("div",H,[a("strong",J,i(t.name),1)])]),_:2},1032,["to"]),_(y,{itemId:String(t.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])]))),128)),a("div",K,[a("p",null,i(e.value.description||"Keine Beschreibung verfügbar"),1),(d=e.value)!=null&&d.url?(n(),s("p",P,[a("a",{href:e.value.url,target:"_blank",rel:"noopener noreferrer"},i(e.value.url.replace(/^(https?:\/\/)?(www\.)?/,"")),9,R)])):k("",!0),(n(!0),s(u,null,g(I.value,(t,m)=>(n(),q(A,{key:"unique-act-tag-"+m,name:t.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])])):(n(),s("div",Q,[a("p",null,i(r.$t("event"))+" "+i(r.$t("not-found")),1)]))}}}),ae=V(W,[["__scopeId","data-v-94b0e9bc"]]);export{ae as default};
