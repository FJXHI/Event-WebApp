import{d as g,c as u,q as S,r as w,a as o,A as D,B as L,g as c,F as B,s as C,t as f,G as $,b as I,J as F,o as a,_ as b,u as q}from"./index-C2x3TVFm.js";import{u as k}from"./useEventData-SXPMqGor.js";import{F as x}from"./FavBtn-o5Go75I0.js";import{S as N}from"./SearchBar-YKOcr6EB.js";const V={class:"locations-list"},A={key:0},E={class:"list-item-info pad"},J={class:"list-item-name"},O={key:1},j=g({__name:"LocationList",props:{filterID:{}},setup(v){const d=S(),_=u(()=>d.query.search??"false"),n=w(""),m=e=>{n.value=e.toLowerCase().trim()},{stages:t}=k(),i=v,h=u(()=>{if(!t.value||t.value.length===0)return[];let e=t.value;return i.filterID&&i.filterID.length>0&&(e=e.filter(r=>i.filterID.includes(r.id))),n.value&&(e=e.filter(r=>{var l,y;const p=((l=r.name)==null?void 0:l.toLowerCase())||"",s=((y=r.description)==null?void 0:y.toLowerCase())||"";return p.includes(n.value)||s.includes(n.value)})),e});return(e,r)=>{const p=F("router-link");return a(),o("div",V,[D(c(N,{onApply:m},null,512),[[L,_.value==="true"]]),h.value.length>0?(a(),o("ul",A,[(a(!0),o(B,null,C(h.value,s=>{var l;return a(),o("li",{key:s.id,class:"list-item-obj"},[c(p,{to:"/location/"+((l=s["id-name"])!=null&&l.trim()?s["id-name"]:s.id),class:"list-item-link"},{default:$(()=>[I("div",E,[I("strong",J,f(s.name),1)])]),_:2},1032,["to"]),c(x,{itemId:String(s.id),itemType:"stage",class:"list-item-fav-btn"},null,8,["itemId"])])}),128))])):(a(),o("p",O,f(e.$t("no-locations")),1))])}}}),G=b(j,[["__scopeId","data-v-39676935"]]),Q={class:"list-view"},R={key:0},T={key:1},P=g({__name:"LocationsView",setup(v){const{stages:d}=k(),_=S(),n=u(()=>_.query.fav==="true"),m=u(()=>{const t=localStorage.getItem("stage");return t?JSON.parse(t).map(i=>parseInt(i)):[]});return(t,i)=>(a(),o("div",Q,[q(d).length>0?(a(),o("div",R,[c(G,{filterID:n.value?m.value:void 0},null,8,["filterID"])])):(a(),o("p",T,f(t.$t("no-locations")),1))]))}});export{P as default};
