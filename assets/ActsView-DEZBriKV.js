import{d as w,c as m,q as D,r as B,a,A as L,B as A,g as u,F as k,s as I,t as h,G as C,b as v,x as $,J as F,o as e,u as T}from"./index-DZnkpXaR.js";import{u as S}from"./useEventData-CPEn0_oc.js";import{F as q}from"./FavBtn-GjQ8IZsp.js";import{T as x}from"./tagLabel-CwaHyOvs.js";import{S as N}from"./SearchBar-B9HW0xbH.js";const V={class:"act-list"},E={key:0,class:"list-item-ul"},J={class:"list-item-info pad"},O={class:"list-item-name"},j={class:"list-item-tags"},G={key:1},Q=w({__name:"ActList",props:{filterID:{}},setup(g){const d=D(),_=m(()=>d.query.search??"false"),n=B(""),p=t=>{n.value=t.toLowerCase().trim()},{acts:o}=S(),r=g,y=m(()=>{if(!o.value||o.value.length===0)return[];let t=o.value;return r.filterID&&r.filterID.length>0&&(t=t.filter(l=>r.filterID.includes(l.id))),n.value&&(t=t.filter(l=>{var c,i;const f=((c=l.name)==null?void 0:c.toLowerCase())||"",s=((i=l.description)==null?void 0:i.toLowerCase())||"";return f.includes(n.value)||s.includes(n.value)})),t});return(t,l)=>{const f=F("router-link");return e(),a("div",V,[L(u(N,{onApply:p},null,512),[[A,_.value==="true"]]),y.value.length>0?(e(),a("ul",E,[(e(!0),a(k,null,I(y.value,s=>{var c;return e(),a("li",{key:s.id,class:"list-item-obj"},[u(f,{to:"/act/"+((c=s["id-name"])!=null&&c.trim()?s["id-name"]:s.id),class:"list-item-link"},{default:C(()=>[v("div",J,[v("strong",O,h(s.name),1),v("span",j,[(e(!0),a(k,null,I(s.tags.filter(i=>i.visible),(i,b)=>(e(),$(x,{key:b,name:i.name,class:"tag-label-item TagLabel"},null,8,["name"]))),128))])])]),_:2},1032,["to"]),u(q,{itemId:String(s.id),itemType:"act",class:"list-item-fav-btn"},null,8,["itemId"])])}),128))])):(e(),a("p",G,h(t.$t("no-acts")),1))])}}}),R={class:"list-view"},z={key:0},H={key:1},X=w({__name:"ActsView",setup(g){const{acts:d}=S(),_=D(),n=m(()=>_.query.fav==="true"),p=m(()=>{const o=localStorage.getItem("act");return o?JSON.parse(o).map(r=>parseInt(r)):[]});return(o,r)=>(e(),a("div",R,[T(d).length>0?(e(),a("div",z,[u(Q,{filterID:n.value?p.value:void 0},null,8,["filterID"])])):(e(),a("p",H,h(o.$t("no-acts")),1))]))}});export{X as default};
