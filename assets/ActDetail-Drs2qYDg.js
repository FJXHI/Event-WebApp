import{_ as S,r as w,w as y,c as r,o as s,a,e as d,f as g,d as $,b as L,j as I,u as V,t as c,F as _,g as h,k as D,i as N}from"./index-B5ywlqr-.js";import{b,u as B}from"./useEventData-ohwmBaxE.js";import{S as F}from"./ScheduleList-BqgOhEkr.js";import{O as C}from"./OvalLink-B0Yrb3x3.js";import{F as E}from"./FavBtn-Dif1M-En.js";import"./IconHeart-70FheFlX.js";const G=["href"],M={key:0,class:"fallback-name"},T=["innerHTML"],x={__name:"SocialMediaLink",props:{name:String,url:String},setup(m){const f=m,o=w("");async function v(u){if(o.value="",!u){console.warn("⚠ Kein Name angegeben, nutze Standard-Fallback.");return}const t=`${b}icons/link/${u.toLowerCase()}.svg`;try{const l=await fetch(t);if(!l.ok){console.warn(`⚠ SVG nicht gefunden: ${t}, Name bleibt sichtbar.`);return}let e=await l.text();if(!e.includes("<svg")){console.warn(`⚠ Ungültiges oder leeres SVG: ${t}, Name bleibt.`);return}e=e.replace(/fill="[^"]*"/g,'fill="currentColor"'),e=e.replace(/(width|height)="\d+[^"]*"/g,""),e=e.replace("<svg",'<svg class="resizable-svg"'),o.value=e,console.log(`✅ SVG geladen: ${t}`)}catch(l){console.error(`❌ Fehler beim Laden des SVGs: ${l}`)}}return y(()=>{v(f.name)}),(u,t)=>(s(),r("li",null,[a("a",{href:m.url,target:"_blank",rel:"noopener noreferrer"},[o.value?d("",!0):(s(),r("div",M,[g(C,{name:m.name},null,8,["name"])])),o.value?(s(),r("div",{key:1,class:"social-media-icon",innerHTML:o.value},null,8,T)):d("",!0)],8,G)]))}},A=S(x,[["__scopeId","data-v-08fb0c59"]]),z={key:0,class:"detail-view"},H={class:"detail-header"},O=["src"],U={class:"detail-title"},j={key:0},K={class:"detail-content"},R={class:"detail-content-text"},q={key:0},J={class:"detail-social-media"},P={key:1},te=$({__name:"ActDetail",setup(m){const f=I(),{acts:o,performances:v,stages:u}=B(),t=L(()=>{if(!o.value||!v.value||!u.value)return null;const l=f.params.id,e=o.value.find(i=>i["id-name"]===l||i.id.toString()===l);return e?{...e,performances:v.value.filter(i=>i.actsIDArr.includes(e.id)).map(i=>({...i,stage:u.value.find(n=>n.id===i.stageID)||null}))}:null});return(l,e)=>{var i;return t.value?(s(),r("div",z,[e[2]||(e[2]=a("div",{class:"detail-space"},null,-1)),a("div",H,[(i=t.value.image)!=null&&i.trim()?(s(),r("img",{key:0,src:V(b)+"images/"+t.value.image,class:"act-detail-view-img",onError:e[0]||(e[0]=n=>n.target.remove())},null,40,O)):d("",!0),g(E,{itemId:String(t.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",U,[a("h3",null,c(t.value.name),1),t.value.subname?(s(),r("h4",j,c(t.value.subname),1)):d("",!0)])]),a("div",K,[a("div",R,[a("p",null,c(t.value.description),1),a("p",null,[a("strong",null,c(l.$t("genre"))+": ",1),(s(!0),r(_,null,h(t.value.tags.filter(n=>n.visible),(n,p)=>(s(),r("span",{key:p},[D(c(n.name),1),p<t.value.tags.filter(k=>k.visible).length-1?(s(),r("span",q,", ")):d("",!0)]))),128))]),a("ul",J,[(s(!0),r(_,null,h(t.value.weblinks,n=>(s(),N(A,{key:n.url,name:n.name,url:n.url},null,8,["name","url"]))),128))])]),e[1]||(e[1]=a("div",{class:"detail-line"},null,-1)),g(F,{filter:"act",filterID:[String(t.value.id)]},null,8,["filterID"])])])):(s(),r("div",P,[a("p",null,c(l.$t("act"))+" "+c(l.$t("not-found")),1)]))}}});export{te as default};
