import{d as b,c as y,q as S,a as n,b as a,C as c,g as v,u as p,e as I,t as o,F as f,s as g,z as B,x as _,o as i}from"./index-DZnkpXaR.js";import{u as D}from"./useEventData-CPEn0_oc.js";import{S as F}from"./ScheduleListItem-C8FqGEwZ.js";import{S as w}from"./SocialMediaLink-PTHOEwaq.js";import{F as L}from"./FavBtn-GjQ8IZsp.js";import{T as A}from"./tagLabel-CwaHyOvs.js";import"./OvalLink-DfT_n-FC.js";const C={key:0,class:"detail-view"},E={class:"detail-header"},N=["src"],T={class:"detail-title"},V={key:0},x={class:"detail-content"},$={class:"detail-content-text"},q={class:"detail-social-media"},z={key:1},K=b({__name:"ActDetail",setup(M){const h=S(),{acts:u,performances:d,stages:m}=D(),e=y(()=>{if(!u.value||!d.value||!m.value)return null;const r=h.params.id,s=u.value.find(l=>l["id-name"]===r||l.id.toString()===r);return s?{...s,performances:d.value.filter(l=>l.actsIDArr.includes(s.id)).map(l=>({...l,stage:m.value.find(t=>t.id===l.stageID)||null}))}:null});return(r,s)=>{var l;return e.value?(i(),n("div",C,[s[2]||(s[2]=a("div",{class:"detail-space"},null,-1)),a("div",E,[(l=e.value.image)!=null&&l.trim()?(i(),n("img",{key:0,src:e.value.image.startsWith("http")?e.value.image:p(I)+e.value.image,class:"act-detail-view-img",onError:s[0]||(s[0]=t=>t.target.remove())},null,40,N)):c("",!0),v(L,{itemId:String(e.value.id),itemType:"act",class:"detail-view-favBtn"},null,8,["itemId"]),a("div",T,[a("h3",null,o(e.value.name),1),e.value.subname?(i(),n("h4",V,o(e.value.subname),1)):c("",!0)])]),a("div",x,[a("div",$,[a("p",null,o(e.value.description),1),a("p",null,[(i(!0),n(f,null,g(e.value.tags.filter(t=>t.visible),(t,k)=>(i(),_(A,{key:k,name:t.name,class:"tag-label-item"},null,8,["name"]))),128))]),a("ul",q,[(i(!0),n(f,null,g(e.value.weblinks,t=>(i(),_(w,{key:t.url,name:t.name,url:t.url},null,8,["name","url"]))),128))])]),s[1]||(s[1]=a("div",{class:"detail-line"},null,-1)),v(F,{filters:{...p(B),actIDs:[String(e.value.id)]}},null,8,["filters"])])])):(i(),n("div",z,[a("p",null,o(r.$t("act"))+" "+o(r.$t("not-found")),1)]))}}});export{K as default};
